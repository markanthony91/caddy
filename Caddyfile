{
    debug
}

http://fedora.taild42ed2.ts.net, http://localhost {

    # n8n Automations
    handle_path /n8n* {
        reverse_proxy localhost:15678 {
            flush_interval -1
        }
    }

    # Portainer (Gerenciamento Docker)
    handle_path /portainer* {
        reverse_proxy localhost:9000
    }

    # Qdrant
    @qdrant_root path /qdrant /qdrant/
    redir @qdrant_root /qdrant/dashboard 307
    handle_path /qdrant* {
        reverse_proxy localhost:16333
    }
    handle /dashboard* {
        reverse_proxy localhost:16333
    }

    # NocoDB
    @nocodb_root path /nocodb /nocodb/
    redir @nocodb_root /nocodb/dashboard/ 307
    handle_path /nocodb* {
        reverse_proxy localhost:18080
    }

    # Gerenciador Financeiro
    @financeiro_root path /financeiro
    redir @financeiro_root /financeiro/
    handle_path /financeiro* {
        reverse_proxy localhost:15500
    }

    # SilverBullet (com SB_URL_PREFIX=/notes)
    handle /notes* {
        reverse_proxy localhost:15050
    }

    # Beszel Monitor (proxy reverso - não mais redirect direto para porta)
    @monitor_root path /monitor /monitor/
    redir @monitor_root /monitor/
    handle_path /monitor* {
        reverse_proxy localhost:8090
    }

    # Kopia Backup (proxy reverso - não mais redirect direto para porta)
    @backup_root path /backup /backup/
    redir @backup_root /backup/
    handle_path /backup* {
        reverse_proxy localhost:51515
    }

    # Dozzle (Docker Logs)
    @dozzle_root path /dozzle /dozzle/
    redir @dozzle_root /dozzle/
    handle_path /dozzle* {
        reverse_proxy localhost:8888
    }

    # Supabase Kong (API)
    handle_path /supabase* {
        reverse_proxy localhost:54321
    }

    # Supabase Studio (UI)
    @supabase_studio_root path /supabase-studio /supabase-studio/
    redir @supabase_studio_root /supabase-studio/
    handle_path /supabase-studio* {
        reverse_proxy localhost:54323
    }

    # Homarr Dashboard (Fallback - Página Inicial)
    handle {
        reverse_proxy localhost:17500
    }
}
